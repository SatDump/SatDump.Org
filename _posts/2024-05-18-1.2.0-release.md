---
layout: post
title:  "Release 1.2.0"
date:   2024-05-31 17:55:00 +0200
tags:   release
author: jvital2013
---

Uh oh, it looks like we got a little out-of-control again and changed... well, we changed a lot in SatDump. But never fear, this update contains a lot of great features that many of our users will appreciate - whether you are an amateur, or work in the professional space.

Please note, this is a major update from 1.1.4 - many internal systems have been reworked, and new products may not load in older versions. Saved products might be arranged differently, and there are compatibility problems when mixing/matching versions of the SDR Server and SatDump GUI/CLI as well. As a general rule, it's a good idea to update all your systems to SatDump 1.2.0 at the same time.

Additionally, we've had some reports of issues updating to the latest build on Linux (self-built) and Windows (portable only). Windows Portable users should _not_ simply extract the .zip into their current program directory; instead, they should extract into a new directory, and copy the config folder over. Linux users should uninstall before pulling and re-building, or delete their `/usr/lib/satdump` folder and re-install.

# New Features

## Geostationary Satellite Products

One of the core features of SatDump is its product system - along with calibration for accurate, useful information. For a long time you could load imagery from LEO satellites into the viewer and make all kinds of composites and projections - but the same could not be said for any Geostationary Satellites. Raw data would be saved and some basic false-color composites would be auto-generated, but... that was about it. And that changes with this release.

In SatDump 1.2.0, Geostationary Satellites now support the product system similar to LEOs. To facilitate this, imagery from select Geostationary satellites is now organized in dated subfolders, with an associated product.cbor file, like this:

![](/assets/release_120/geo_folder_structure.png) 

Just like its LEO counterparts, the geo cbor file contains data such as calibration, projection, and timestamp info. If enabled, SatDump will automatically use this data to generate RGB composite imagery. You can also generate imagery manually by loading the product.cbor file in the viewer, and creating a custom-made composite.

![](/assets/release_120/geo_in_viewer.jpg) 

This change opens the door to many possibilities when processing Geostationary satellite data with SatDump. Instead of simply saving raw data, we can now make composites such as the standard "Enhanced IR" and "Water vapor" composites found in other programs. On GOES HRIT, we have made them match the products available on NOAA STAR

![](/assets/release_120/goes_ir_lut_comparison.jpg) 

However, we can do better than these basic LUT-based composites. SatDump's composite system can create advanced equation-based composites, enabling us to produce incredible composites such as Nighttime Microphysics and Split Window Difference, which again match the output of NOAA STAR/CIRA:

![](/assets/release_120/goes_micro.jpg) 

Some additional composites are provided with this release that are not generated by NOAA/CIRA, but are specified in the [GOES-R Quick Guides](https://rammb2.cira.colostate.edu/training/visit/quick_reference/#tab17), such as Fog Brightness Temperature Difference. Here you can see fog over Cuba:

![](/assets/release_120/fog.jpg) 

Its not all GOES - many of these cmposites work on Himawari and GK-2A as well. However, there is more work to do on this front.

![](/assets/release_120/ahi_composite.jpg)

Further, we can now make more appealing day/night composites, such as this False Color/IR merge that is available with several Geostationary satellites:

![](/assets/release_120/false_color_ir_merge.jpg)

Finally, a helper function has been added to the composite system that can remove the background from behind your imagery. This can be especially appealing for products where the background is not already black.

![](/assets/release_120/background_removal.jpg)

Geo Products support has been added for the following satellites, with potentially more to come:

- Elektro-L LRIT/HRIT
- GOES-R HRIT
- GK-2A LRIT/HRIT
- HimawariCast

## METEOR KMSS Support

TODO - Alan

## New projection system and GeoTIFF

TODO - Alan
- Auto mode
- Command line tool
- What GeoTIFF is, and why it matters
- Changes in the UI (no more yellow highlight, can add same product multiple times, etc)

## Fill missing Lines

An oft-requested feature is the ability to "heal" or "fill in" missing data caused by interference or signal drop-outs. Starting with SatDump 1.2.0, "Fill Missing Data" (or `--fill_missing` from the command line) is now available for GOES-R HRIT and METEOR LRPT pipelines! This feature will interpolate good data into missing/bad sections to "heal" the image. It must be explictly enabled at decode time as an acknowledgement that you are modifying decoded satellite data.

METEOR was a natural fit for fill missing, as we already had a good way to track which segments were good, and which were bad. Both the original image and the filled in version are saved when using this feature. The results are pretty good with mild-moderate data loss:

![](/assets/release_120/meteor_fill.jpg)

GOES HRIT, on the other hand, required a little bit more work. Previous versions of SatDump would not track which lines in a segment were bad - meaning some lines would be saved in the wrong location if data was missing. After fixing this bug, adding the ability to fill in missing lines works much the same way as it does on METEOR.

![](/assets/release_120/goes_fill.jpg)

As a note: we've already been asked if this feature will be seen with other satellite decoders. For right now, the answer is probably not - but maybe. Filling in missing data is a tricky problem to solve in many situations. Sometimes, you don't even have a way to know what data is bad, what is good, or if any lines were missed. If any situations arise where it is feasible/makes sense to implement it, we can certianly look into it, but no promises.

## Orbcomm STX Plotter

TODO - Alan

## METEOR Telemetry

In SatDump 1.1.3, support was added to decode telemetry from NOAA DSB, HRPT, and GAC. In this release, similar support has been added for METEOR M2-x LRPT and HRPT! On LRPT, telemetry is provided on what MSU-MR unit is in operation and the temperature/current of various parts of the instrument. The same information is available on HRPT, along with additional digital telementry.

![](/assets/release_120/meteor_telemetry.png)

## Added composites

Nearly every team member pitched in this time around to add many great new composites - and improvements to old ones. Note Geostationary Satellite composites have not been listed here, as many have been added.

- **AIRS HD:** Re-added a basic composite for the AIRS instrument.
- **KMSS:** Added CIR, NDVI, OSAVI, and Vegitation Classification composites.
- **MERSI-LL:** Added an AVHRR-equivalent 543b IR False Color composite.
- **MERSI-RM:** Added Day Microphysics.
- **MCIR, MCIR Rain, and MSA:** These composites have been equalized to prevent being too dull or too bright, resulting in a more appealing product each time.
- **SEVIRI:** Added 221, 321, Natural Color, Microphysics, Water Vapor, and several AVHRR-Equivalent composites
- **VIIRS:** Cloud Type RGB, Cloud Phase RGB, Dust/Ash RGB, Snow RGB, and Fire Temperature RGB composites have been added.

TODO: ADD EXAMPLES OF COMPOSITES

## Other Features

Some new features are small - but still important! Minor features added in this release include:

- macOS: The macOS builds now come with support for many more SDRs, including BladeRF, LimeSDR, PlutoSDR, SDRPlay, and USRP! This is on top of all the SDRs supported previously. SDRPlay  support requires the installation of SDRPlay API 3.15 from [here](https://www.sdrplay.com/api/).
- macOS: The build process has changed to add flexibility, and to ensure compatibility with all version of macOS 10.15 and newer. If you build from source on macOS, please review the build documentation before updating.
- Added support for METEOR M2-4.
- NOAA APT: Improved noise detection and auto-crop to reduce aggressively cropped images, and improve data reliability.
- NOAA APT: SatDump will now correct pass time errors within ~15 seconds to ensure proper map overlay/projection alignment when your system clock is incorrect.
- METEOR LRPT: Added GUI option to disable Reed-Solomon checks, to allow for imagery reception when the satellite transmits bad codes.
- METOP AHRPT: Added checkbox to ignore transmitted TLEs as they can sometimes be incorrect.
- Inmarsat: UDP packets now contain the SatDump version if the station id is set.
- Added/improved packet pipelines for IM-I, FORMOSAT 5/7, SAOCOM 1A/1B TLM, Queqiao-2, and WSF-M S-Band DB.
- SDRPlay: Added support for RSP1B and RSPdx-R2.
- UDP Source has been renamed to Network Source. It can now accept samples over nng pub/sub as well.
- Added support for saving/loading images in the [QOI](https://qoiformat.org/) format, for fast, efficient storage of images
- The viewer "Load Dataset" and "Load Product" options have been merged into a single "Open" option.
- Added a decimal precision config for az/el values when sending data to your rotator to prevent issues.
- Added easy-to-use DVB-S/S2 pipelines, which can be used to demodulate signals such as the upcoming HamTV module on the ISS.
- Added the ability to set a minimum elevation to start/stop processing or recording per satellite in autotrack.
- Added Herobrine.

TODO: ADD IMAGE

# Performance Improvements

There was a big focus this time around on performance and memory optimization. Here is a sampling of optimizations we have done throughout the program:

- In the past, simple composties have been made with an equation, and complex ones in Lua. Starting with 1.2.0, complex composite code can now be written in C++ and loaded as a plugin! C++ composites are significantly faster than their Lua counterparts, and we use this to our advantage with several of the new Geo composites. Additionally, our cloud underlay/MCIR/MSA composites have been moved to C++ to gain this performance boost.
- General performance boosts for all composites
- Improved map overlay performance by almost 2x
- Improved LRPT decoder performance
- Reduced memory usage by nearly half when processing 8-bit imagery (GOES HRIT, KMSS, etc)

![](/assets/release_120/memory_comparison.png)

# Bugs fixes

Spring has arrived, and with it all the bugs that love to start crawling around this time of year. In our software too - and we removed as many as we could. Here are the bugs we've fixed in SatDump 1.2.0.

- METEOR LRPT: Fixed minor channel alignment bugs.
- Fixed incorrect map overlays near the poles.
- Fixed parameter conflicts with the `--port` flag in the CLI. If you used this flag anywhere, please verify the current usage with the docs.
- Fixed a bug that could result in METEOR HRPT data becoming unprojectable
- Fix DST bug with SatDump basebands.
- Many performance/stability updates to DVB-S/S2 demodulation.
- Improved SatDump UI/SDR Server recoverability when communication between the programs has been interrupted.
- Fixed some minor USRP bugs.
- Fixed bug where AMSU always saved as png.
- Fixed incorrectly breaking up Himawari images from the GOES-West HRIT relay.
- Fixed a crash on Windows when UDP ports 4567 or 7890 are bound, in some situations. 
- Fixed many, many other crashes throughout the program.

## Wrapping up

As always, if you come across any bugs, feel free to [open an issue on GitHub](https://github.com/SatDump/SatDump/issues) or reach out to us on [Matrix](https://matrix.to/#/#satdump:altillimity.com)!
